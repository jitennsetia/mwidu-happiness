<!DOCTYPE html>
<html>
<head>
    <title>Mwidu Happiness ‚Äì Anxiety Awareness Tool</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">

    <div class="logo">
        <img src="{{ url_for('static', filename='logo.png') }}" alt="Mwidu Happiness">
    </div>

    <h1>Anxiety Search Tool</h1>

    <p class="subtitle">
        Research-based awareness and general guidance on anxiety.
    </p>

    <!-- üß† MENTAL AWARENESS FACT -->
    <div class="mental-fact">
        <strong>üß† Mental Awareness Fact</strong>
        <p>{{ mental_fact }}</p>
    </div>

    <!-- SEARCH -->
    <form id="searchForm">
        <input
            type="text"
            id="queryInput"
            placeholder="Type your question and press Enter"
            required
            autofocus
        >
    </form>

    <!-- RESPONSE -->
    <div id="responseBox" class="response" style="display:none;">
        <h3>Answer</h3>
        <p id="responseText"></p>
    </div>

    <p class="disclaimer">
        ‚ö†Ô∏è This tool provides general information only and is not a substitute for professional medical advice.
    </p>

</div>

<script>
const form = document.getElementById("searchForm");
const input = document.getElementById("queryInput");
const responseBox = document.getElementById("responseBox");
const responseText = document.getElementById("responseText");

form.addEventListener("submit", async function (e) {
    e.preventDefault();

    const res = await fetch("/search", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ query: input.value })
    });

    const data = await res.json();
    responseText.innerText = data.response;
    responseBox.style.display = "block";
});
</script>

</body>
</html>
